<ion-header>
    <ion-toolbar color="primary" style="color:white">
      <ion-grid>
        <ion-row>
          <ion-col size="11">
            <ion-title [class.useFont]="true" *ngIf='modalType=="addOrder"' no-margin no-padding>
              <h4 style="color:#fff">Add Order</h4>
            </ion-title>
            <ion-title [class.useFont]="true" *ngIf='modalType=="editOrder"' no-margin no-padding>
              <h4 style="color:#fff">Edit Order</h4>
            </ion-title>
            <ion-title [class.useFont]="true" *ngIf='modalType=="viewOrder"' no-margin no-padding>
              <h4 style="color:#fff">View Order</h4>
            </ion-title>
          </ion-col>
          <ion-col style="text-align: end;" size="1">
            <ion-icon style="font-size: 25px;cursor: pointer;color: #036479;" name="close" (click)="modalclose()">
            </ion-icon>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-toolbar>
  </ion-header>
  
  
  <!-- <ion-content *ngIf="modalType=='addOrder'" padding>
    
    <form novalidate [formGroup]="orderForm">
  
  
      <ion-row class="form-content-labels">
        <ion-col size="4" class="my-label col-form-label"> Ordered for</ion-col>
        <ion-col size="8">
  
          <mat-radio-group aria-label="Select an option">
            <mat-radio-button class="my-label" value="farmer" *ngIf="role.role == 'Field Agent'"
              (click)="toggleOrderedFor='farmer'; validateSubmitButton('farmer')">
              Farmer
            </mat-radio-button>
            <mat-radio-button class="my-label" value="agency"
              *ngIf="role.role == 'Order Manager' || role.role == 'Agency Manager'"
              (click)="toggleOrderedFor='agency'; validateSubmitButton('agency')">
              Agency &nbsp;
            </mat-radio-button>
            <mat-radio-button class="my-label" *ngIf="role.role == 'Order Manager'" value="external_user"
              (click)="toggleOrderedFor='external_user'; validateSubmitButton('external_user')">
              External user
            </mat-radio-button>
          </mat-radio-group>
  
        </ion-col>
      </ion-row>
  
      <ion-row style="display:none"
        *ngIf="role.role == 'Order Manager' || role.role == 'Agency Manager' || role.role == 'Field Agent'"
        class="form-content-labels">
        <ion-col class="my-label  col-form-label" size="4">
          Ordered by
        </ion-col>
        <ion-col size="8">
          <input type="text" readonly [(ngModel)]="role.mobile_no" class="form-control my-label"
            placeholder="On behalf of" formControlName="on_the_behalf" />
        </ion-col>
      </ion-row>
  
      <ion-row *ngIf="toggleOrderedFor=='agency'">
        <ion-col size="4" class="my-label  col-form-label">
          On behalf of
        </ion-col>
        <ion-col size="8" style=" font-size: 14px;">
       
          <ng-multiselect-dropdown [placeholder]="'Agency'" required [data]="agencyList"
            [(ngModel)]="orderModal.ordered_foragency" formControlName="ordered_foragency"
            [settings]="agencydropdownSettings"
            [class.error1]="!orderForm.controls.ordered_foragency.valid && orderForm.controls.ordered_foragency.dirty">
          </ng-multiselect-dropdown>
  
          <div
            *ngIf="(orderForm.get('ordered_foragency').hasError('required') ) && orderForm.get('ordered_foragency').touched">
            <div class="error"
              *ngIf="(orderForm.get('ordered_foragency').hasError('required') )&& orderForm.get('ordered_foragency').touched">
              Agency name is empty
            </div>
          </div>
        </ion-col>
      </ion-row>
      <ion-row *ngIf="toggleOrderedFor=='farmer'">
        <ion-col size="4" class="my-label">
          Farmer
        </ion-col>
        <ion-col size="8" style=" font-size: 14px;">
          <ng-multiselect-dropdown [placeholder]="'Farmer'" [data]="farmerList" [(ngModel)]="orderModal.farmer_id"
            formControlName="farmer_id" [settings]="farmerdropdownSettings">
          </ng-multiselect-dropdown>
        </ion-col>
      </ion-row>
      <div *ngIf="toggleOrderedFor=='external_user'">
        <ion-row>
          <ion-col size="12" class="my-label col-form-label">On Behalf Of:</ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="4" class="my-label">
            Name
          </ion-col>
          <ion-col size="8">
            <span>
              <input type="text" [(ngModel)]="orderModal.ordered_forexuser" class="form-control my-label"
                placeholder="External User" formControlName="ordered_forexuser"
                [class.error1]="!orderForm.controls.ordered_forexuser.valid && orderForm.controls.ordered_forexuser.dirty" />
            </span>
  
            <div
              *ngIf="(orderForm.get('ordered_forexuser').hasError('required')  || orderForm.get('ordered_forexuser').hasError('pattern') || orderForm.get('ordered_forexuser').hasError('minlength') || orderForm.get('ordered_forexuser').hasError('maxlength') ) && orderForm.get('ordered_forexuser').touched">
              <div class="error"
                *ngIf="(orderForm.get('ordered_forexuser').hasError('required') )&& orderForm.get('ordered_forexuser').touched">
                Name is empty
              </div>
              <div class="error"
                *ngIf="orderForm.get('ordered_forexuser').hasError('minlength') && orderForm.get('ordered_forexuser').touched">
                Minimum 4 characters
              </div>
              <div class="error"
                *ngIf="orderForm.get('ordered_forexuser').hasError('maxlength') && orderForm.get('ordered_forexuser').touched">
                Maximum 30 characters
              </div>
              <div class="error"
                *ngIf="orderForm.get('ordered_forexuser').hasError('pattern') && orderForm.get('ordered_forexuser').touched">
                Only alphabet characters
              </div>
            </div>
          </ion-col>
        </ion-row>
  
        <ion-row *ngIf="toggleOrderedFor=='external_user'">
          <ion-col size="4" class="my-label col-form-label">
            Mobile number
          </ion-col>
          <ion-col size="8">
            <input type="text" (keypress)="isNumber($event)" [(ngModel)]="orderModal.order_for_mobile" required
              oninput="validity.valid||(value='')" class="form-control my-label" placeholder="Mobile Number"
              onKeyPress="if(this.value.length==10) return false;" formControlName="order_for_mobile"
              [class.error]="!orderForm.controls.order_for_mobile.valid && orderForm.controls.order_for_mobile.dirty" />
            <div
              *ngIf="(orderForm.get('order_for_mobile').hasError('required') || orderForm.get('order_for_mobile').hasError('pattern') || 
            orderForm.get('order_for_mobile').hasError('minlength') || orderForm.get('order_for_mobile').hasError('maxlength')) && orderForm.get('order_for_mobile').touched ">
              <div class="error"
                *ngIf="(orderForm.get('order_for_mobile').hasError('required') )&& orderForm.get('order_for_mobile').touched">
                Mobile number is empty
              </div>
              <div class="error"
                *ngIf="orderForm.get('order_for_mobile').hasError('minlength') && orderForm.get('order_for_mobile').touched">
                Minimum 10 characters
              </div>
              <div class="error"
                *ngIf="orderForm.get('order_for_mobile').hasError('maxlength') && orderForm.get('order_for_mobile').touched">
                Maximum 10 characters
              </div>
              <div class="error"
                *ngIf="orderForm.get('order_for_mobile').hasError('pattern') && orderForm.get('order_for_mobile').touched">
                Use Only numbers
              </div>
            </div>
          </ion-col>
        </ion-row>
      </div>
  
      <ion-grid *ngIf="!formdataarray.length">
      <ion-row class="form-content-labels">
        <ion-col class="my-label col-form-label" size="4">
          Category
        </ion-col>
        <ion-col size="8" style=" font-size: 14px;">
          <ng-multiselect-dropdown [placeholder]="'Category'" [data]="categoryList" [(ngModel)]="orderModal.category"
            [settings]="categorydropdownSettings" (onSelect)="onItemSelect($event, 'category')" formControlName="category"
            [class.error1]="!orderForm.controls.category.valid && orderForm.controls.category.dirty">
          </ng-multiselect-dropdown>
  
          <div *ngIf="(orderForm.get('category').hasError('required') ) && orderForm.get('category').touched">
            <div class="error"
              *ngIf="(orderForm.get('category').hasError('required') )&& orderForm.get('category').touched">
              Category name is empty
            </div>
          </div>
        </ion-col>
      </ion-row>
  
      <ion-row class="form-content-labels">
        <ion-col class="my-label col-form-label" size="4">
          Product
        </ion-col>
        <ion-col size="8" style=" font-size: 14px;">
          <ng-multiselect-dropdown [placeholder]="'Product'" required [data]="products" [(ngModel)]="orderModal.product"
            [settings]="productdropdownSettings" (onSelect)="onItemSelect($event, 'product')" formControlName="product"
            [class.error1]="!orderForm.controls.product.valid && orderForm.controls.product.dirty">
          </ng-multiselect-dropdown>
          <div *ngIf="(orderForm.get('product').hasError('required') ) && orderForm.get('product').touched">
            <div class="error"
              *ngIf="(orderForm.get('product').hasError('required') )&& orderForm.get('product').touched">
              Product name is empty
            </div>
          </div>
        </ion-col>
      </ion-row>
  
      <ion-row class="form-content-labels">
        <ion-col class="my-label col-form-label" size="4">
          Quantity
        </ion-col>
        <ion-col size="8">
          <input type="number" min="1" [(ngModel)]="orderModal.quantity" class="form-control" placeholder="Enter Quantity"
            formControlName="quantity" oninput="validity.valid||(value='')" (keyup)="onItemSelect($event, 'quantity')" />
        </ion-col>
      </ion-row>
  
      <ion-row class="form-content-labels">
        <ion-col class="my-label col-form-label" size="4">
          MRP
        </ion-col>
        <ion-col size="8">
          <input type="number" min="1" oninput="validity.valid||(value='')" [(ngModel)]="orderModal.price"
            class="form-control" (keyup)="onItemSelect($event, 'mrp')" formControlName="mrp"
            oninput="validity.valid||(value='')" placeholder="Enter Price" />
        </ion-col>
      </ion-row>
      </ion-grid>
      <ion-row>
        <ion-col size="12">
  
          <ion-grid *ngIf="formdataarray.length">
            <ion-row style="background: #036479;color:#fff">
              <ion-col class="my-label" size="4">Category</ion-col>
              <ion-col class="my-label" size="4">Products</ion-col>
              <ion-col class="my-label" size="2" style="text-align:right">Quantity</ion-col>
              <ion-col class="my-label" size="2" style="text-align:right">MRP</ion-col>
            </ion-row>
  
            <ion-row
              style="border-bottom: 1px solid #cccaca; border-left: 1px solid #cccaca; border-right: 1px solid #cccaca"
              *ngFor="let fd of formdataarray">
              <ion-col class="my-label" size="4"> {{fd.category[0].category_name}} </ion-col>
              <ion-col class="my-label" size="4"> {{fd.products[0].product_name}} </ion-col>
              <ion-col class="my-label" size="2" style="text-align:right"> {{fd.quantity}} </ion-col>
              <ion-col class="my-label" style="text-align:right" size="2"> {{fd.price}} &nbsp;
                <ion-icon style="cursor: pointer;color: #036479;" name="close" (click)="removeProduct(fd.category[0].category_name, fd.products[0].product_name)">
                </ion-icon>
              </ion-col>
            </ion-row>     
            <ion-row>
              <ion-col class="my-label" size="4">
                <ng-multiselect-dropdown [placeholder]="'Category'" [data]="categoryList" [(ngModel)]="orderModal.category"
                  [settings]="categorydropdownSettings" (onSelect)="onItemSelect($event, 'category')" formControlName="category"
                  [class.error1]="!orderForm.controls.category.valid && orderForm.controls.category.dirty">
                </ng-multiselect-dropdown>
  
                <div *ngIf="(orderForm.get('category').hasError('required') ) && orderForm.get('category').touched">
                  <div class="error"
                    *ngIf="(orderForm.get('category').hasError('required') )&& orderForm.get('category').touched">
                    Category name is empty
                  </div>
                </div>
              </ion-col>
              <ion-col class="my-label" size="4">
                <ng-multiselect-dropdown [placeholder]="'Product'" required [data]="products" [(ngModel)]="orderModal.product"
                  [settings]="productdropdownSettings" (onSelect)="onItemSelect($event, 'product')" formControlName="product"
                  [class.error1]="!orderForm.controls.product.valid && orderForm.controls.product.dirty">
                </ng-multiselect-dropdown>
                <div *ngIf="(orderForm.get('product').hasError('required') ) && orderForm.get('product').touched">
                  <div class="error"
                    *ngIf="(orderForm.get('product').hasError('required') )&& orderForm.get('product').touched">
                    Product name is empty
                  </div>
                </div>
              </ion-col>
              <ion-col class="my-label" size="2">
                <input type="number" min="1" [(ngModel)]="orderModal.quantity" class="form-control" placeholder="Enter Quantity"
            formControlName="quantity" oninput="validity.valid||(value='')" (keyup)="onItemSelect($event, 'quantity')" />
              </ion-col>
              <ion-col class="my-label" size="2">
                <input type="number" min="1" oninput="validity.valid||(value='')" [(ngModel)]="orderModal.price"
                class="form-control" (keyup)="onItemSelect($event, 'mrp')" formControlName="mrp"
                oninput="validity.valid||(value='')" placeholder="Enter Price" />
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col style="text-align: right" class="float-right">
          <span style="color:red; font-size:14px">{{ addmoreprod }}</span>&emsp;
          <a class="my-label" style="cursor:pointer;text-decoration:underline" (click)="addMoreProduct()">Add more product</a>
        </ion-col>
      </ion-row>
      <ion-row class="form-content-labels">
        <ion-col class="my-label" size="4" style="padding-top: 13px">
          Expected date
        </ion-col>
        <ion-col size="8">
  
          <input style="cursor: pointer" placement="top" name="expecteddate" [(ngModel)]="orderModal.expected_date"
            type="text" [bsConfig]="datePickerConfig" placeholder="Expected Date" class="form-control"
            formControlName="expected_date" [minDate]="tomorrow" [bsConfig]="datePickerConfig"
            value="{{ orderModal.expected_date | date:'dd/MM/yyyy' }}" bsDatepicker />
  
        </ion-col>
      </ion-row>
  
      <ion-row *ngIf="toggleOrderedFor=='external_user'" class="form-content-labels">
        <ion-col class="my-label" size="4">
          Place
        </ion-col>
        <ion-col size="8" style=" font-size: 14px;">
  
          <ng-select [items]="place" formControlName="place" placeholder="Select Place" [(ngModel)]="orderModal.place">
          </ng-select>
        </ion-col>
      </ion-row>
  
  
      <ion-row *ngIf="toggleOrderedFor=='external_user'" class="form-content-labels">
        <ion-col class="my-label" size="4">
          Pincode
        </ion-col>
        <ion-col size="8">
          <input type="number" oninput="validity.valid||(value='')" [(ngModel)]="orderModal.pincode"
            onKeyPress="if(this.value.length==6) return false;" class="form-control" placeholder="Enter Pincode"
            maxlength="6" formControlName="pincode" />
        </ion-col>
      </ion-row>
      <ion-row *ngIf="toggleOrderedFor=='external_user'">
        <ion-col size='4'>
          <ion-label class="my-label"> State </ion-label>
        </ion-col>
        <ion-col size="8" style=" font-size: 14px;">
          <ng-select [items]="state" formControlName="state" placeholder="Select State" [(ngModel)]="orderModal.state">
          </ng-select>
        </ion-col>
      </ion-row>
  
      <ion-row *ngIf="toggleOrderedFor=='external_user'">
        <ion-col size='4'>
          <ion-label class="my-label"> District </ion-label>
        </ion-col>
        <ion-col size="8">
          <ng-select [items]="district" formControlName="district" placeholder="Select District"
            [(ngModel)]="orderModal.district">
          </ng-select>
        </ion-col>
  
      </ion-row>
  
      <ion-row class="form-content-labels">
        <ion-col class="my-label" size="4">
          Total price
        </ion-col>
        <ion-col size="8">
          <input type="number" min="1" [(ngModel)]="orderModal.total_order" placeholder="Total Price" class="form-control"
            formControlName="total_order" disabled />
        </ion-col>
      </ion-row>
  
      <ion-row class="form-content-labels">
        <ion-col size="12" class="float-right">
        
          <ion-button class="text-list float-right my-label" (click)="modalclose()" style="
          font-weight: 100;float: right" color="primary">
            Cancel</ion-button>
          <ion-button class="text-list float-right" (click)="submitOrderForm(orderForm.value)" style="
      font-weight: 100;float: right" [disabled]="orderForm.invalid" color="primary">
            Create</ion-button>
  
          <p style="height:40px">&nbsp;</p>
        </ion-col>
      </ion-row>
    </form>
  </ion-content> -->

  <ion-content *ngIf="modalType=='addOrder'" padding>
      <!-- <ion-list> -->
      <form novalidate [formGroup]="orderForm">
    
    
        <ion-row class="form-content-labels">
          <ion-col size="4" class="my-label col-form-label"> Ordered for</ion-col>
          <ion-col size="8">
    
            <mat-radio-group aria-label="Select an option">
              <mat-radio-button class="my-label" value="farmer" *ngIf="role.role == 'Field Agent'"
                (click)="toggleOrderedFor='farmer'; validateSubmitButton('farmer')">
                Farmer
              </mat-radio-button>
              <mat-radio-button class="my-label" value="agency"
                *ngIf="role.role == 'Order Manager' || role.role == 'Agency Manager'"
                (click)="toggleOrderedFor='agency'; validateSubmitButton('agency')">
                Agency &nbsp;
              </mat-radio-button>
              <mat-radio-button class="my-label" *ngIf="role.role == 'Order Manager'" value="external_user"
                (click)="toggleOrderedFor='external_user'; validateSubmitButton('external_user')">
                External user
              </mat-radio-button>
            </mat-radio-group>
    
          </ion-col>
        </ion-row>
    
        <ion-row style="display:none"
          *ngIf="role.role == 'Order Manager' || role.role == 'Agency Manager' || role.role == 'Field Agent'"
          class="form-content-labels">
          <ion-col class="my-label  col-form-label" size="4">
            Ordered by
          </ion-col>
          <ion-col size="8">
            <input type="text" readonly [(ngModel)]="role.mobile_no" class="form-control my-label"
              placeholder="On behalf of" formControlName="on_the_behalf" />
          </ion-col>
        </ion-row>
    
        <ion-row *ngIf="toggleOrderedFor=='agency'">
          <ion-col size="4" class="my-label  col-form-label">
            On behalf of
          </ion-col>
          <ion-col size="8" style=" font-size: 14px;">
         
            <ng-multiselect-dropdown [placeholder]="'Agency'" required [data]="agencyList"
              [(ngModel)]="orderModal.ordered_foragency" formControlName="ordered_foragency"
              [settings]="agencydropdownSettings"
              [class.error1]="!orderForm.controls.ordered_foragency.valid && orderForm.controls.ordered_foragency.dirty">
            </ng-multiselect-dropdown>
    
            <div
              *ngIf="(orderForm.get('ordered_foragency').hasError('required') ) && orderForm.get('ordered_foragency').touched">
              <div class="error"
                *ngIf="(orderForm.get('ordered_foragency').hasError('required') )&& orderForm.get('ordered_foragency').touched">
                Agency name is empty
              </div>
            </div>
          </ion-col>
        </ion-row>
        <ion-row *ngIf="toggleOrderedFor=='farmer'">
          <ion-col size="4" class="my-label">
            Farmer
          </ion-col>
          <ion-col size="8" style=" font-size: 14px;">
            <ng-multiselect-dropdown [placeholder]="'Farmer'" [data]="farmerList" [(ngModel)]="orderModal.farmer_id"
              formControlName="farmer_id" [settings]="farmerdropdownSettings">
            </ng-multiselect-dropdown>
          </ion-col>
        </ion-row>
        <div *ngIf="toggleOrderedFor=='external_user'">
          <ion-row>
            <ion-col size="12" class="my-label col-form-label">On Behalf Of:</ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="4" class="my-label">
              Name
            </ion-col>
            <ion-col size="8">
              <span>
                <input type="text" [(ngModel)]="orderModal.ordered_forexuser" class="form-control my-label"
                  placeholder="External user" formControlName="ordered_forexuser"
                  [class.error1]="!orderForm.controls.ordered_forexuser.valid && orderForm.controls.ordered_forexuser.dirty" />
              </span>
    
              <div
                *ngIf="(orderForm.get('ordered_forexuser').hasError('required')  || orderForm.get('ordered_forexuser').hasError('pattern') || orderForm.get('ordered_forexuser').hasError('minlength') || orderForm.get('ordered_forexuser').hasError('maxlength') ) && orderForm.get('ordered_forexuser').touched">
                <div class="error"
                  *ngIf="(orderForm.get('ordered_forexuser').hasError('required') )&& orderForm.get('ordered_forexuser').touched">
                  Name is empty
                </div>
                <div class="error"
                  *ngIf="orderForm.get('ordered_forexuser').hasError('minlength') && orderForm.get('ordered_forexuser').touched">
                  Minimum 4 characters
                </div>
                <div class="error"
                  *ngIf="orderForm.get('ordered_forexuser').hasError('maxlength') && orderForm.get('ordered_forexuser').touched">
                  Maximum 30 characters
                </div>
                <div class="error"
                  *ngIf="orderForm.get('ordered_forexuser').hasError('pattern') && orderForm.get('ordered_forexuser').touched">
                  Only alphabet characters
                </div>
              </div>
            </ion-col>
          </ion-row>
    
          <ion-row *ngIf="toggleOrderedFor=='external_user'">
            <ion-col size="4" class="my-label col-form-label">
              Mobile number
            </ion-col>
            <ion-col size="8">
              <input type="text" (keypress)="isNumber($event)" [(ngModel)]="orderModal.order_for_mobile" required
                oninput="validity.valid||(value='')" class="form-control my-label" placeholder="Mobile number"
                onKeyPress="if(this.value.length==10) return false;" formControlName="order_for_mobile"
                [class.error]="!orderForm.controls.order_for_mobile.valid && orderForm.controls.order_for_mobile.dirty" />
              <div
                *ngIf="(orderForm.get('order_for_mobile').hasError('required') || orderForm.get('order_for_mobile').hasError('pattern') || 
              orderForm.get('order_for_mobile').hasError('minlength') || orderForm.get('order_for_mobile').hasError('maxlength')) && orderForm.get('order_for_mobile').touched ">
                <div class="error"
                  *ngIf="(orderForm.get('order_for_mobile').hasError('required') )&& orderForm.get('order_for_mobile').touched">
                  Mobile number is empty
                </div>
                <div class="error"
                  *ngIf="orderForm.get('order_for_mobile').hasError('minlength') && orderForm.get('order_for_mobile').touched">
                  Minimum 10 characters
                </div>
                <div class="error"
                  *ngIf="orderForm.get('order_for_mobile').hasError('maxlength') && orderForm.get('order_for_mobile').touched">
                  Maximum 10 characters
                </div>
                <div class="error"
                  *ngIf="orderForm.get('order_for_mobile').hasError('pattern') && orderForm.get('order_for_mobile').touched">
                  Use Only numbers
                </div>
              </div>
            </ion-col>
          </ion-row>
        </div>
    
        <ion-grid *ngIf="!formdataarray.length">
        <ion-row class="form-content-labels">
          <ion-col class="my-label col-form-label" size="4">
            Category
          </ion-col>
          <ion-col size="8" style=" font-size: 14px;">
            <ng-multiselect-dropdown [placeholder]="'Category'" [data]="categoryList" [(ngModel)]="orderModal.category"
              [settings]="categorydropdownSettings" (onSelect)="onItemSelect($event, 'category')" formControlName="category"
              [class.error1]="!orderForm.controls.category.valid && orderForm.controls.category.dirty">
            </ng-multiselect-dropdown>
    
            <div *ngIf="(orderForm.get('category').hasError('required') ) && orderForm.get('category').touched">
              <div class="error"
                *ngIf="(orderForm.get('category').hasError('required') )&& orderForm.get('category').touched">
                Category name is empty
              </div>
            </div>
          </ion-col>
        </ion-row>
    
        <ion-row class="form-content-labels">
            <ion-col class="my-label col-form-label" size="4">
              Company
            </ion-col>
          
            <ion-col size="8" style=" font-size: 14px;">
              <ng-multiselect-dropdown [placeholder]="'Company'"    (onSelect)="onItemSelect($event, 'company')"
              [data]="company" [(ngModel)]="orderModal.company"
              [settings]="companyDropDownSettings" formControlName="company">
            </ng-multiselect-dropdown>
          
              <div *ngIf="(orderForm.get('company').hasError('required') ) && orderForm.get('company').touched">
                <div class="error"
                  *ngIf="(orderForm.get('company').hasError('required') )&& orderForm.get('company').touched">
                  Company name is empty
                </div>
              </div>
            </ion-col>
          </ion-row>
    
        <ion-row class="form-content-labels">
          <ion-col class="my-label col-form-label" size="4">
            Product
          </ion-col>
          <ion-col size="8" style=" font-size: 14px;">
            <ng-multiselect-dropdown   [placeholder]="'Product'" required [data]="products" [(ngModel)]="orderModal.product"
              [settings]="productdropdownSettings" (onSelect)="onItemSelect($event, 'product')" formControlName="product"
              [class.error1]="!orderForm.controls.product.valid && orderForm.controls.product.dirty">
            </ng-multiselect-dropdown>
            <div *ngIf="(orderForm.get('product').hasError('required') ) && orderForm.get('product').touched">
              <div class="error"
                *ngIf="(orderForm.get('product').hasError('required') )&& orderForm.get('product').touched">
                Product name is empty
              </div>
            </div>
          </ion-col>
        </ion-row>
    
        <ion-row class="form-content-labels">
          <ion-col class="my-label col-form-label" size="4">
            Unit
          </ion-col>
          <ion-col size="8" style=" font-size: 14px;">
          <ng-multiselect-dropdown [disabled]="unitCheck" [placeholder]="'Unit'"  (onSelect)="onItemSelect($event, 'unitDropval')"
            [data]="unit" [(ngModel)]="orderModal.units"
            [settings]="dropdownSettings" formControlName="unit">
          </ng-multiselect-dropdown>
        
            <div *ngIf="(orderForm.get('unit').hasError('required') ) && orderForm.get('unit').touched">
              <div class="error"
                *ngIf="(orderForm.get('unit').hasError('required') )&& orderForm.get('unit').touched">
                Unit is empty
              </div>
            </div>
          </ion-col>
        </ion-row>
    
      
    
       
        <ion-row class="form-content-labels">
          <ion-col class="my-label col-form-label" size="4">
            Items
          </ion-col>
          <ion-col size="8">
            <input type="number" min="1" [(ngModel)]="orderModal.quantity" class="form-control" placeholder="Enter Quantity"
              formControlName="quantity" oninput="validity.valid||(value='')" (keyup)="onItemSelect($event, 'quantity')" />
          </ion-col>
        </ion-row>
    
        <ion-row class="form-content-labels">
          <ion-col class="my-label col-form-label" size="4">
            MRP
          </ion-col>
          <ion-col size="8">
            <input type="number" min="1" oninput="validity.valid||(value='')" [(ngModel)]="orderModal.price"
              class="form-control" (keyup)="onItemSelect($event, 'mrp')" formControlName="mrp"
              oninput="validity.valid||(value='')" placeholder="Enter Price" />
          </ion-col>
        </ion-row>
        </ion-grid>
        <ion-row>
          <ion-col size="12">
    
            <ion-grid *ngIf="formdataarray.length">
              <ion-row style="background: #036479;color:#fff">
                <ion-col class="my-label" size="2">Category</ion-col>
                <ion-col class="my-label" size="2">Company</ion-col>
                <ion-col class="my-label" size="2">Products</ion-col>
                <ion-col class="my-label" size="2">Unit</ion-col>
                <ion-col class="my-label" size="1">Quantity</ion-col>
                <ion-col class="my-label" size="2">MRP</ion-col>
                <ion-col class="my-label" size="1">Action</ion-col>
            </ion-row>

            <!-- <ion-row
            style="border-bottom: 1px solid #cccaca; border-left: 1px solid #cccaca; border-right: 1px solid #cccaca"
            *ngFor=" let fd of formdataarray">
            <ion-col class="my-label" size="2"> {{fd.category[0].category_name}} </ion-col>
            <ion-col class="my-label" size="2"> {{fd.company}} </ion-col>
            <ion-col class="my-label" size="2"> {{fd.products[0].product_name}} </ion-col>
            <ion-col class="my-label" size="2"> {{fd.unit}} </ion-col>
            <ion-col class="my-label" size="2"> {{fd.quantity}} </ion-col>
             <ion-col class="my-label" size="2"> {{fd.price}} &nbsp;
              <ion-icon style="cursor: pointer;color: #036479;" name="close" (click)="removeProduct(fd.category[0].category_name, fd.products[0].product_name)" class="pull-right">
              </ion-icon>
            </ion-col> 
          </ion-row>      -->
          <form [formGroup]="addMoreProducts">
          <ion-row   *ngFor=" let fd of formdataarray" >
          
            <ion-col class="my-label" size="2">
              <ng-multiselect-dropdown [placeholder]="'Category'" 
              [data]="categoryList" [(ngModel)]="fd.category[0].category_name"
                [settings]="categorydropdownSettings" (onSelect)="onItemSelect($event, 'category')" 
                formControlName="category_new"
                [class.error1]="!addMoreProducts.controls.category.valid && addMoreProducts.controls.category.dirty" 
                [disabled]="!fd.isEditable">
              </ng-multiselect-dropdown>

              <div *ngIf="(addMoreProducts.get('category').hasError('required') ) && addMoreProducts.get('category').touched">
                <div class="error"
                  *ngIf="(addMoreProducts.get('category').hasError('required') )&& addMoreProducts.get('category').touched">
                  Category name is empty
                </div>
              </div>
            </ion-col>

            <ion-col class="my-label" size="2">
                <ng-multiselect-dropdown [placeholder]="'Company'" (onSelect)="onItemSelect($event, 'company')"
                [data]="company" [(ngModel)]="fd.company" [disabled]="!fd.isEditable"
                [settings]="companyDropDownSettings" formControlName="company_new">
              </ng-multiselect-dropdown>
            
                <div *ngIf="(addMoreProducts.get('company').hasError('required') ) && addMoreProducts.get('company').touched">
                  <div class="error"
                    *ngIf="(addMoreProducts.get('company').hasError('required') )&& addMoreProducts.get('company').touched">
                    Company name is empty
                  </div>
                </div>
              </ion-col>
            <ion-col class="my-label" size="2">
              <ng-multiselect-dropdown [placeholder]="'Product'"  [data]="products" [(ngModel)]="fd.products[0].product_name"
                [settings]="productdropdownSettings" [disabled]="!fd.isEditable"  (onSelect)="onItemSelect($event, 'product')" 
                formControlName="product_new"
                [class.error1]="!addMoreProducts.controls.product.valid && addMoreProducts.controls.product.dirty">
              </ng-multiselect-dropdown>
              <div *ngIf="(addMoreProducts.get('product').hasError('required') ) && addMoreProducts.get('product').touched">
                <div class="error"
                  *ngIf="(addMoreProducts.get('product').hasError('required') )&& addMoreProducts.get('product').touched">
                  Product name is empty
                </div>
              </div>
            </ion-col>

          
           
            <ion-col class="my-label" size="2">
              <ng-multiselect-dropdown [placeholder]="'Unit'" 
                [data]="unit" [(ngModel)]="fd.unit" [disabled]="!fd.isEditable" (onSelect)="onItemSelect($event, 'unit')"
                [settings]="dropdownSettings" formControlName="unit_new">
              </ng-multiselect-dropdown>
            
                <div *ngIf="(addMoreProducts.get('unit').hasError('required') ) && addMoreProducts.get('unit').touched">
                  <div class="error"
                    *ngIf="(addMoreProducts.get('unit').hasError('required') )&& addMoreProducts.get('unit').touched">
                    unit name is empty
                  </div>
                </div>
              </ion-col>

           

            <ion-col class="my-label" size="2">
              <input type="number" min="1" [disabled]="!fd.isEditable"  [(ngModel)]="fd.quantity" class="form-control" placeholder="Enter quantity"
            formControlName="quantity_new" oninput="validity.valid||(value='')" (change)="onItemSelect($event, 'quantity')"
            (keyup)="onItemSelect($event, 'quantity')" />
            </ion-col>

            <ion-col class="my-label" size="2">
              <input type="number"   [disabled]="!fd.isEditable"  min="1" oninput="validity.valid||(value='')" [(ngModel)]="fd.price"
              class="form-control" (change)="onItemSelect($event, 'mrp')" formControlName="mrp_new" (keyup)="onItemSelect($event, 'mrp')"
              oninput="validity.valid||(value='')" placeholder="Enter Price" />
            </ion-col>

              <ion-col>
                <ion-button (click)="fd.isEditable=!fd.isEditable" *ngIf="!fd.isEditable">Edit</ion-button>
                <ion-button *ngIf="fd.isEditable" (click)="fd.isEditable=!fd.isEditable">Save</ion-button>
                </ion-col> 
          </ion-row>
          </form>
    
              <ion-row>
                <ion-col class="my-label" size="2">
                  <ng-multiselect-dropdown [placeholder]="'Category'" [data]="categoryList" [(ngModel)]="orderModal.category"
                    [settings]="categorydropdownSettings" (onSelect)="onItemSelect($event, 'category')" formControlName="category"
                    [class.error1]="!orderForm.controls.category.valid && orderForm.controls.category.dirty">
                  </ng-multiselect-dropdown>
    
                  <div *ngIf="(orderForm.get('category').hasError('required') ) && orderForm.get('category').touched">
                    <div class="error"
                      *ngIf="(orderForm.get('category').hasError('required') )&& orderForm.get('category').touched">
                      Category name is empty
                    </div>
                  </div>
                </ion-col>
    
                <ion-col class="my-label" size="2">
                    <ng-multiselect-dropdown [placeholder]="'Company'" (onSelect)="onItemSelect($event, 'company')"
                    [data]="company" [(ngModel)]="orderModal.company"
                    [settings]="companyDropDownSettings" formControlName="company">
                  </ng-multiselect-dropdown>
                
                    <div *ngIf="(orderForm.get('company').hasError('required') ) && orderForm.get('company').touched">
                      <div class="error"
                        *ngIf="(orderForm.get('company').hasError('required') )&& orderForm.get('company').touched">
                        Company name is empty
                      </div>
                    </div>
                  </ion-col>
                <ion-col class="my-label" size="2">
                  <ng-multiselect-dropdown [placeholder]="'Product'" required [data]="products" [(ngModel)]="orderModal.product"
                    [settings]="productdropdownSettings" (onSelect)="onItemSelect($event, 'product')" formControlName="product"
                    [class.error1]="!orderForm.controls.product.valid && orderForm.controls.product.dirty">
                  </ng-multiselect-dropdown>
                  <div *ngIf="(orderForm.get('product').hasError('required') ) && orderForm.get('product').touched">
                    <div class="error"
                      *ngIf="(orderForm.get('product').hasError('required') )&& orderForm.get('product').touched">
                      Product name is empty
                    </div>
                  </div>
                </ion-col>
    
              
               
                <ion-col class="my-label" size="2">
                  <ng-multiselect-dropdown [placeholder]="'Unit'" [disabled]="unitCheck"
                    [data]="unit" [(ngModel)]="orderModal.units" (onSelect)="onItemSelect($event, 'unit')"
                    [settings]="dropdownSettings" formControlName="unit">
                  </ng-multiselect-dropdown>
                
                    <div *ngIf="(orderForm.get('unit').hasError('required') ) && orderForm.get('unit').touched">
                      <div class="error"
                        *ngIf="(orderForm.get('unit').hasError('required') )&& orderForm.get('unit').touched">
                        unit name is empty
                      </div>
                    </div>
                  </ion-col>
    
               
    
                <ion-col class="my-label" size="2">
                  <input type="number" min="1" [(ngModel)]="orderModal.quantity" class="form-control" placeholder="Enter quantity"
                formControlName="quantity" oninput="validity.valid||(value='')" (change)="onItemSelect($event, 'quantity')"
                (keyup)="onItemSelect($event, 'quantity')" />
                </ion-col>
    
                <ion-col class="my-label" size="2">
                  <input type="number" min="1" oninput="validity.valid||(value='')" [(ngModel)]="orderModal.price"
                  class="form-control" (change)="onItemSelect($event, 'mrp')" formControlName="mrp" (keyup)="onItemSelect($event, 'mrp')"
                  oninput="validity.valid||(value='')" placeholder="Enter Price" />
                </ion-col>
              </ion-row>


            </ion-grid>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col style="text-align: right" class="float-right">
            <span style="color:red; font-size:14px">{{ addmoreprod }}</span>&emsp;
            <a class="my-label" style="cursor:pointer;text-decoration:underline" (click)="addMoreProduct()">Add more product</a>
          </ion-col>
        </ion-row>
        <ion-row class="form-content-labels">
          <ion-col class="my-label" size="4" style="padding-top: 13px">
            Expected date
          </ion-col>
          <ion-col size="8">
    
            <input style="cursor: pointer" placement="top" name="expecteddate" [(ngModel)]="orderModal.expected_date"
              type="text" [bsConfig]="datePickerConfig" placeholder="Expected date" class="form-control"
              formControlName="expected_date" [minDate]="tomorrow" [bsConfig]="datePickerConfig"
              value="{{ orderModal.expected_date | date:'dd/MM/yyyy' }}" bsDatepicker />
    
          </ion-col>
        </ion-row>
    
        <ion-row *ngIf="toggleOrderedFor=='external_user'" class="form-content-labels">
          <ion-col class="my-label" size="4">
            Place
          </ion-col>
          <ion-col size="8" style=" font-size: 14px;">
    
            <ng-select [items]="place" formControlName="place" placeholder="Select place" [(ngModel)]="orderModal.place">
            </ng-select>
          </ion-col>
        </ion-row>
    
    
        <ion-row *ngIf="toggleOrderedFor=='external_user'" class="form-content-labels">
          <ion-col class="my-label" size="4">
            Pincode
          </ion-col>
          <ion-col size="8">
            <input type="number" oninput="validity.valid||(value='')" [(ngModel)]="orderModal.pincode"
              onKeyPress="if(this.value.length==6) return false;" class="form-control" placeholder="Enter pincode"
              maxlength="6" formControlName="pincode" />
          </ion-col>
        </ion-row>
        <ion-row *ngIf="toggleOrderedFor=='external_user'">
          <ion-col size='4'>
            <ion-label class="my-label"> State </ion-label>
          </ion-col>
          <ion-col size="8" style=" font-size: 14px;">
            <ng-select [items]="state" formControlName="state" placeholder="Select state" [(ngModel)]="orderModal.state">
            </ng-select>
          </ion-col>
        </ion-row>
    
        <ion-row *ngIf="toggleOrderedFor=='external_user'">
          <ion-col size='4'>
            <ion-label class="my-label"> District </ion-label>
          </ion-col>
          <ion-col size="8">
            <ng-select [items]="district" formControlName="district" placeholder="Select district"
              [(ngModel)]="orderModal.district">
            </ng-select>
          </ion-col>
    
        </ion-row>
    
        <ion-row class="form-content-labels">
          <ion-col class="my-label" size="4">
            Total price
          </ion-col>
          <ion-col size="8">
            <input type="number" min="1" [(ngModel)]="orderModal.total_order" placeholder="Total price" class="form-control"
              formControlName="total_order" disabled />
          </ion-col>
        </ion-row>
    
        <ion-row class="form-content-labels">
          <ion-col size="12" class="float-right">
            <!-- <span style="font-size: 14px">{{ orderformsubmitmessage }}</span> -->
            <ion-button class=" float-right text-list" (click)="modalclose()" style="
            font-weight: 100;float: right" color="primary">
              Cancel</ion-button>
            <ion-button class="float-right text-list" (click)="submitOrderForm(orderForm.value)" style="
        font-weight: 100;float: right" [disabled]="orderForm.invalid" color="primary">
              Create</ion-button>
    
            <p style="height:40px">&nbsp;</p>
          </ion-col>
        </ion-row>
      </form>
    </ion-content>
    
  
  
  
  <ion-content *ngIf="modalType=='editOrder'" padding>
    <form novalidate [formGroup]="editOrderForm">
      <ion-row class="form-content-labels">
        <ion-col class="my-label col-form-label" size="4">
          Order ID
        </ion-col>
        <ion-col size="8">
          <input [(ngModel)]="OrderData.order_id" class="form-control" formControlName="order_id" readonly
            [placeholder]="OrderData.order_id" />
        </ion-col>
      </ion-row>
  
      <ion-row class="form-content-labels">
        <ion-col class="my-label col-form-label" size="4">
          Ordered for
        </ion-col>
        <ion-col size="8">
          <input type="text" [(ngModel)]="OrderData.order_for" class="form-control" placeholder="Ordered for"
            formControlName="ordered_for" readonly />
        </ion-col>
      </ion-row>
  
      <ion-row class="form-content-labels">
        <ion-col class="my-label col-form-label" size="4">
          Status
        </ion-col>
        <ion-col size="8" style=" font-size: 14px;">
          <ng-select [placeholder]="'Status'" required [items]="status" [(ngModel)]="OrderData.order_status"
            formControlName="order_status" (change)="setOrderType($event)">
          </ng-select>{{statusChangeChecker}}
          <div
            *ngIf="(editOrderForm.get('order_status').hasError('required') ) && editOrderForm.get('order_status').touched">
            <div class="error"
              *ngIf="(editOrderForm.get('order_status').hasError('required') )&& editOrderForm.get('order_status').touched">
              Select status
            </div>
          </div>
        </ion-col>
      </ion-row>
  
      <ion-row class="form-content-labels">
        <ion-col class="my-label" size="4">
          Total price
        </ion-col>
        <ion-col size="8">
          <input type="number" [(ngModel)]="OrderData.order_total" class="form-control" placeholder="Price"
            formControlName="price" disabled />
        </ion-col>
      </ion-row>
      <div>
  
        <ion-row style="background: #036479;color:#fff">
          <ion-col class="my-label" size="3">Company</ion-col>
          <ion-col class="my-label" size="3">Category</ion-col>
          <ion-col class="my-label" size="3">Products</ion-col>
          <ion-col class="my-label" size="1">Unit</ion-col>       
          <ion-col class="my-label" size="1">Quantity</ion-col> 
          <ion-col class="my-label" size="1">MRP</ion-col>
          
        </ion-row>
        <ion-grid
          style="z-index:99999;border-bottom: 1px solid #cccaca; border-left: 1px solid #cccaca; border-right: 1px solid #cccaca" *ngFor="let fd of editProducts">
          <ion-row>
            <ion-col size="3"> {{ fd.company }} </ion-col>
            <ion-col size="3"> {{ fd.category_name.category_name }} </ion-col>
            <ion-col size="3"> {{ fd.product_name.product_name }}  </ion-col>
            <ion-col size="1"> {{ fd.unit.unit }} </ion-col>
            <ion-col size="1" style="text-align: right">  {{ fd.quantity }} </ion-col>
  
            <ion-col size="1" style="text-align: right">
              <table> <tr><td style="text-align: right"> {{ fd.mrp }}
                &nbsp;</td><td style="text-align: right">
                    <ion-icon style="cursor: pointer;color: #036479; float:right" name="close" (click)="removeProduct1(fd.category_name.category_id, fd.product_name.product_id)">
                    </ion-icon> </td></tr>
                </table>
            </ion-col>
          </ion-row>
        </ion-grid>

        <ion-grid *ngIf="addmoreeditproduct">
             <ion-row>
                <ion-col size="3">
                    <ng-multiselect-dropdown [placeholder]="'Company'"    (onSelect)="onItemSelect($event, 'company')"
                    [data]="company" [(ngModel)]="upOrderDta.company"
                    [settings]="companyDropDownSettings" formControlName="company">
                  </ng-multiselect-dropdown>                   
                </ion-col>
                <ion-col size="3">
                    <ng-multiselect-dropdown
                      placeholder="Category"
                      [data]="categoryList" [(ngModel)]="upOrderDta.category" 
                      [settings]="categorydropdownSettings" (onSelect)="onItemSelect($event, 'category')"
                      formControlName="category">
                    </ng-multiselect-dropdown>
                  </ion-col>
                  <ion-col size="3">
                    <ng-multiselect-dropdown
                      placeholder="Products"
                      [data]="products" [(ngModel)]="upOrderDta.product"
                      [settings]="productdropdownSettings"
                      (onSelect)="onItemSelect1($event, 'product')"
                      formControlName="products" [disabled]="forAdminUpdate">
                    </ng-multiselect-dropdown>
                  </ion-col>
                  <ion-col size="1">
                    <input type="text" class="form-control" formControlName="unit" [(ngModel)]="upOrderDta.unit" placeholder="Unit"  disabled />         
                  </ion-col>
                  <ion-col size="1">
                    <input type="number" min="1" [(ngModel)]="upOrderDta.quantity"
                      class="form-control" placeholder="Quantity" (change)="onItemSelectEdit($event, 'quantity')" (keyup)="onItemSelectEdit($event, 'quantity')"
                      formControlName="quantity" />
                  </ion-col>
        
                  <ion-col size="1" style="text-align: right">
                        <input type="number" min="1" [(ngModel)]="upOrderDta.mrp" 
                          class="form-control" placeholder="MRP" (change)="onItemSelectEdit($event, 'mrp')" (keyup)="onItemSelectEdit($event, 'mrp')"
                          formControlName="mrp" />
                  </ion-col>
             </ion-row>
        </ion-grid>

        <ion-row>
            <ion-col size="12" style="text-align: right">
                  <a class="my-label" style="cursor:pointer;text-decoration:underline" (click)="addMoreProduct1()">Add more product</a>
            </ion-col>
        </ion-row>
  
      </div>
  
      <ion-row style="display:none" class="form-content-labels">
        <ion-col class="my-label" size="4">
          Updated by
        </ion-col>
        <ion-col size="8">
          <input type="text" disabled [(ngModel)]="OrderData.updated_by" class="form-control" placeholder="Updated by"
            formControlName="updated_by" />
        </ion-col>
      </ion-row>
  
      <ion-row class="form-content-labels">
        <ion-col class="my-label" size="4">
          Expected date
        </ion-col>
        <ion-col size="8">
          <input style="cursor: pointer" placement="top" [(ngModel)]="OrderData.expected_date" type="text"
            placeholder="Expected date" [bsConfig]="datePickerConfig" class="form-control" formControlName="expected_date"
            [minDate]="tomorrow" bsDatepicker [attr.disabled]="forAdminUpdate ? '' : null" />
  
        </ion-col>
      </ion-row>
  
  
      <ion-row class="form-content-labels">
        <ion-col class="my-label" size="4">
          Delivered date
  
        </ion-col>
        <ion-col size="8">
  
          <input style="cursor: pointer" placement="top" [(ngModel)]="OrderData.delivered_date" type="text"
            placeholder="Delivered date" [bsConfig]="datePickerConfig" class="form-control"
            formControlName="delivered_date" [attr.disabled]="!(OrderData.order_status == 'completed') ? '' : null"
            [minDate]="tomorrow" bsDatepicker />
          <!-- <ion-datetime name="expecteddate" placeholder="Delivered Date" displayFormat="DD/MM/YYYY"
            [(ngModel)]="OrderData.delivered_date" formControlName="delivered_date"></ion-datetime> -->
        </ion-col>
      </ion-row>
  
      <ion-row>
        <ion-col size='6'>
          <ion-label class="my-label">State</ion-label>
          <input class="inputdate" placeholder="state" [value]="OrderData.state" class="form-control" type="text"
            disabled />
  
        </ion-col>
        <ion-col size='6'>
          <ion-label class="my-label">District</ion-label>
          <input class="inputdate" placeholder="District" [value]="OrderData.district" class="form-control" type="text"
            disabled />
        </ion-col>
  
      </ion-row>
  
  
      <ion-row class="form-content-labels">
        <ion-col class="my-label" size="4">
          Place
        </ion-col>
        <ion-col size="8">
          <input type="text" [value]="OrderData.place" class="form-control" placeholder="Enter Place" disabled />
          {{OrderData.Place}}
        </ion-col>
      </ion-row>
  
      <ion-row class="form-content-labels">
        <ion-col class="my-label" size="4">
          Pincode
        </ion-col>
        <ion-col size="8">
          <input type="number" min="111111" [value]="OrderData.pincode" class="form-control" placeholder="Enter Pincode"
            disabled />
          <!-- {{OrderData|json}} -->
        </ion-col>
      </ion-row>
  
      <ion-row class="form-content-labels">
        <ion-col class="my-label" size="4">
          Notes
        </ion-col>
        <ion-col size="8">
          <input [(ngModel)]="OrderData.comment" class="form-control" formControlName="comment"
            [placeholder]="OrderData.comment" [attr.disabled]="forAdminUpdate ? '' : null" />
        </ion-col>
      </ion-row>
  
      <span class="my-label"> {{ updateorderstatus }}</span>
      <span class="my-label" style="color:red"><br />{{ newupdterrormsg }}</span>
      <span class="my-label" style="color:red"><br /> {{ updateButtonMessage }}</span>
      <ion-button class="text-list float-right" style="font-size: 11px;
      font-weight: 100;float: right" color="primary" (click)="modalclose()">
        Cancel</ion-button>&nbsp;
      <ion-button class="text-list float-right" type="submit" style="font-size: 11px;
      font-weight: 100;float: right" color="primary" [disabled]="updateButtonStatus"
        (click)="updateOrder(editOrderForm.value)">
        Update</ion-button>
  
      <p style="height:40px">&nbsp;</p>
    </form>
  
  </ion-content>
  
  
  <ion-content *ngIf="modalType=='viewOrder'" padding>
    <!-- <form novalidate [formGroup]="orderForm" *ngFor="let item of editProducts"> -->
    <ion-row class="form-content-labels" style="border-bottom: 1px solid #cccaca">
      <ion-col class="my-label" size="6">
        Order Id
      </ion-col>
      <ion-col class="my-label" size="6">
        {{OrderData.order_id}}
      </ion-col>
    </ion-row>
  
    <ion-row class="form-content-labels" style="border-bottom: 1px solid #cccaca">
      <ion-col class="my-label" size="6">
        Order For
      </ion-col>
      <ion-col class="my-label" size="6">
        {{OrderData.order_for}}
      </ion-col>
    </ion-row>
  
    <ion-row class="form-content-labels" style="border-bottom: 1px solid #cccaca">
      <ion-col class="my-label" size="6">
        Order By
      </ion-col>
      <ion-col class="my-label" size="6">
        {{OrderData.order_by}}
      </ion-col>
    </ion-row>
  
  
    <div>
  
      <ion-row style="background: #036479;color:#fff;">
          <ion-col class="my-label" size="3">Company</ion-col>
        <ion-col class="my-label" size="3">Category</ion-col>
        <ion-col class="my-label" size="3">Products</ion-col>
        <ion-col class="my-label" size="1">Unit</ion-col>
        <ion-col class="my-label" size="1">Quantity</ion-col>
        <ion-col class="my-label" size="1">MRP</ion-col>
      </ion-row>
  
      <ion-row style="border-bottom: 1px solid #cccaca; border-left: 1px solid #cccaca; border-right: 1px solid #cccaca"
        *ngFor="let fd of editProducts">
        <ion-col class="my-label" size="3"> {{ fd.company }} </ion-col>
        <ion-col class="my-label" size="3"> {{ fd.category_name.category_name }}</ion-col>
        <ion-col class="my-label" size="3"> {{ fd.product_name.product_name }} </ion-col>
        <ion-col class="my-label" size="1"> {{ fd.unit.unit }} </ion-col>
        <ion-col class="my-label" size="1"> {{ fd.quantity }} </ion-col>
        <ion-col class="my-label" size="1"> {{ fd.mrp }} </ion-col>
      </ion-row>
    </div>
  
  
    <ion-row class="form-content-labels" style="border-bottom: 1px solid #cccaca">
      <ion-col class="my-label" size="6">
        Expected Date
      </ion-col>
      <ion-col class="my-label" size="6">
        {{OrderData.expected_date}}
      </ion-col>
    </ion-row>
    <ion-row class="form-content-labels" style="border-bottom: 1px solid #cccaca">
      <ion-col class="my-label" size="6">
        Created Date
      </ion-col>
      <ion-col class="my-label" size="6">
        {{OrderData.created_date}}
      </ion-col>
    </ion-row>
    <ion-row class="form-content-labels" style="border-bottom: 1px solid #cccaca">
      <ion-col class="my-label" size="6">
        Place
      </ion-col>
      <ion-col class="my-label" size="6">
        {{OrderData.place}}
      </ion-col>
    </ion-row>
    <ion-row class="form-content-labels" style="border-bottom: 1px solid #cccaca">
      <ion-col class="my-label" size="6">
        Pincode
      </ion-col>
      <ion-col class="my-label" size="6">
        {{OrderData.pincode}}
      </ion-col>
    </ion-row>
  
    <ion-row class="form-content-labels" style="border-bottom: 1px solid #cccaca">
      <ion-col class="my-label" size="6">
        State
      </ion-col>
      <ion-col class="my-label" size="6">
        {{OrderData.state}}
      </ion-col>
    </ion-row>
  
  
    <ion-row class="form-content-labels" style="border-bottom: 1px solid #cccaca">
      <ion-col class="my-label" size="6">
        District
      </ion-col>
      <ion-col class="my-label" size="6">
        {{OrderData.district}}
      </ion-col>
    </ion-row>
  
    <ion-row class="form-content-labels" style="border-bottom: 1px solid #cccaca">
      <ion-col class="my-label" size="6">
        Price
      </ion-col>
      <ion-col class="my-label" size="6">
        {{OrderData.order_total}}
      </ion-col>
    </ion-row>
  
    <div class="pt-2">
      <ion-button class="text-list float-right" style="font-size: 11px;
      font-weight: 100;float: right" color="primary" (click)="modalclose()">
        Cancel</ion-button>
    </div>
    <p style="height:40px">&nbsp;</p>
    <!-- </form> -->
  </ion-content>